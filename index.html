<!DOCTYPE html>
<meta charset="utf-8">
<html>
    <head>
        <title>Bookmarklets</title>
        <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
        <style>
         .bml {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 50px;
    border: 1px dashed;
    margin: 1em 0;
}
        </style>
    </head>
    <body>
      <header><h1 id="bookmarklets">Bookmarklets</h1>
<p>A collection of my bookmarklets to automate various things in the browser</p></header>
      <main>
        <h4 id="installation">Installation</h4>
<ul>
<li>Drag and drop the bookmarklet link to your bookmarks toolbar</li>
<li>If your bookmarklet toolbar is hidden, use <kbd>Ctrl+Shift+B</kbd> (on Firefox &amp; Chrome) to make it visible</li>
<li>On Firefox, you could also right click on the link and click “Bookmark Link”</li>
</ul>
        <div class='bookmarklet'><h3 id=better-website>Better Website</h3>
<p>Use rules from <a href="http://bettermotherfuckingwebsite.com">http://bettermotherfuckingwebsite.com</a> to make websites more readable</p>
<a class='bml' href=' javascript: void (function () {   var style = document.createElement("style");   document.head.appendChild(style);   var sheet = style.sheet;   sheet.insertRule(     "body{ margin:40px auto; max-width:650px; line-height:1.6; font-size:18px; color:#444; padding:0 10px; }"   );   sheet.insertRule("h1,h2,h3{ line-height:1.2 }"); })(); '>Better Website</a></div><div class='bookmarklet'><h3 id=elfeed-capture>Elfeed Capture</h3>
<p>Create a new elfeed entry from a website using an org-capture protocol</p>
<a class='bml' href=' javascript: void (function () {   const url_element =     document.querySelector('link[type="application/rss+xml"]') ||     document.querySelector('link[type="application/atom+xml"]') ||     location;   const url = url_element.href;   location.href =     encodeURIComponent(url) +     "/" +     encodeURIComponent(document.title); })(); '>Elfeed Capture</a></div><div class='bookmarklet'><h3 id=kindle-highlights>Kindle Highlights</h3>
<p>More Readable Kindle Highlights, downloadable as Markdown or Org files</p>
<h4 id="kindle-highlights-usage">Usage:</h4>
<ol>
<li>Visit <a href="https://read.amazon.com/notebook">https://read.amazon.com/notebook</a></li>
<li>Navigate to the required book</li>
<li>Use the bookmarklet</li>
<li>Profit!</li>
</ol>
<a class='bml' href='   javascript: void (function () {   const highlights_markdown = () => {     const markdown = "";     for (let i = 0; i < highlights.length; i++) {       markdown += "> " + highlights[i] + "\n\n";       const note = notes[i];       if (note !== "") {         markdown += note + "\n\n";       }     }     return markdown;   };    const highlights_orgmode = () => {     const orgmode = "";     for (let i = 0; i < highlights.length; i++) {       orgmode += "#+BEGIN_QUOTE\n";       orgmode += highlights[i] + "\n";       orgmode += "#+END_QUOTE\n\n";       const note = notes[i];       if (note !== "") {         orgmode += note + "\n\n";       }     }     return orgmode;   };    const add_download_links = () => {     const parent = $(".kp-notebook-bookcover-container").parent();     add_download_link(parent, "markdown");     add_download_link(parent, "x-org");   };    const add_download_link = (parent, mimetype) => {     const a = $("<a />");     let blob, url, name;     if (mimetype == "markdown") {       a.text("Download Markdown");       blob = new Blob([highlights_markdown()], { type: "text/markdown" });       name = "kindle-highlights.md";     } else if (mimetype == "x-org") {       a.text("Download Org-Mode");       blob = new Blob([highlights_orgmode()], { type: "text/markdown" });       name = "kindle-highlights.org";     }     url = window.URL.createObjectURL(blob);     a.addClass("a-row").appendTo(parent).attr("href", url).attr("download", name);   };    const make_readable = () => {     $("#library").hide();     $(".kp-notebook-metadata").hide();     $("h3.kp-notebook-metadata").show().parent().toggleClass("a-span5");     $(".kp-notebook-bookcover-container").hide();     $(".a-declarative").hide();     $(".kp-notebook-row-separator").css("border-bottom", "none");     $("#annotations").css("float", "none").css("max-width", "800px").css("margin", "auto");     $(".a-scroller").css("overflow", "inherit");     $(".a-size-small").hide();   };    make_readable();   const highlights = $(".kp-notebook-row-separator")     .find("#highlight")     .map(function (idx, x) {       return $(x).text();     });   const notes = $(".kp-notebook-row-separator")     .find("#note")     .map(function (idx, x) {       return $(x).text();     });   add_download_links(); })(); '>Kindle Highlights</a></div><div class='bookmarklet'><h3 id=save-momentum-quotes>Save Momentum Quotes</h3>
<p>Save Momentum Quotes as a JSON file</p>
<a class='bml' href=' javascript: void (function () {   if (     window.location.protocol !== "moz-extension:" ||     window.location.pathname !== "/dashboard.html"   ) {     alert("To download Momentum Quotes, run the bookmarklet in a new empty tab!");     return;   }   let quotes = Object.entries(localStorage)     .filter(([key, value]) => key.indexOf("momentum-quote-") > -1)     .reduce((acc, [_, value]) => [...acc, JSON.parse(value)], [])     .map(({ _id, forDate, body, source, is_favorite, twitter }) => ({       _id,       forDate,       body,       source,       is_favorite,       twitter,     }));    let data = [JSON.stringify(quotes, undefined, 2)],     blob = new Blob(data, { type: "text/json" }),     a = document.createElement("a");    a.download = "momentum-quotes.json";   a.href = window.URL.createObjectURL(blob);   a.click(); })(); '>Save Momentum Quotes</a></div><div class='bookmarklet'><h3 id=whatsapp-diff>Whatsapp Diff</h3>
<p>Compare and find the difference between two WhatsApp groups</p>
<h4 id="whatsapp-diff-usage">Usage</h4>
<ol>
<li>Navigate to the first group, wait until the member information is populated (in the group heading) and click the bookmarklet.</li>
<li>Navigate to the second group, wait until the member information is populated and click the bookmarklet.</li>
</ol>
<a class='bml' href='    javascript: void (function () {   const groupInfo = () => {     const elements = document.querySelectorAll("#main span[title]");     const name = elements[0].textContent;     const subtitle = elements[1].textContent;     if (subtitle === "click here for group info") {       return { name, members: [] };     }     const members = subtitle.replace(/ /g, "").split(",");     return { name, members };   };   const diff = function (a, b) {     const missing = a.members.filter((name) => !b.members.includes(name));     const msg = `List of people in ${a.name} but not in ${b.name}`;     const names = missing.join("\n");     const count = `${missing.length} people`;     alert(`${msg}\n${names}\n${count}`);   };   if (window.location.hostname !== "web.whatsapp.com") {     alert("Make sure that the current tab is the WhatsApp Web tab.");     return;   }   const group = groupInfo();   if (group.members.length === 0) {     alert("Could not get members info. Wait until the member list shows up in the group heading");   } else if (!window.firstGroup) {     window.firstGroup = group;     alert(`Captured info for first group\nName: ${group.name}\nMembers: ${group.members.length}`);   } else {     const { firstGroup } = window;     delete window.firstGroup;     diff(group, firstGroup);     diff(firstGroup, group);   } })(); '>Whatsapp Diff</a></div><div class='bookmarklet'><h3 id=whatsapp-sum-diff>Whatsapp Sum Diff</h3>
<p>Find the difference between combination of two groups (A &amp; B) and another group (C)</p>
<h4 id="whatsapp-sum-diff-usage">Usage</h4>
<ol>
<li>Navigate to group A in WhatsApp Web, wait until the member information is populated (in the group heading) and click the bookmarklet.</li>
<li>Navigate to group B, wait until the member information is populated (in the group heading) and click the bookmarklet.</li>
<li>Finally, Navigate to group C, wait until the member information is populated and click the bookmarklet.</li>
</ol>
<a class='bml' href='     javascript: void (function () {   const groupInfo = () => {     const elements = document.querySelectorAll("#main span[title]");     const name = elements[0].textContent;     const subtitle = elements[1].textContent;     if (subtitle === "click here for group info") {       return { name, members: [] };     }     const members = subtitle.replace(/ /g, "").split(",");     return { name, members };   };   const diff = function (a, b) {     const missing = a.members.filter((name) => !b.members.includes(name));     const msg = `List of people in ${a.name} but not in ${b.name}`;     const names = missing.join("\n");     const count = `${missing.length} people`;     alert(`${msg}\n${names}\n${count}`);   };   if (window.location.hostname !== "web.whatsapp.com") {     alert("Make sure that the current tab is the WhatsApp Web tab.");     return;   }   const group = groupInfo();   if (group.members.length === 0) {     alert("Could not get members info. Wait until the member list shows up in the group heading");   } else if (!window.groupA) {     window.groupA = group;     alert(`Captured info for group A\nName: ${group.name}\nMembers: ${group.members.length}`);   } else if (!window.groupB) {     window.groupB = group;     alert(`Captured info for group B\nName: ${group.name}\nMembers: ${group.members.length}`);   } else {     const { groupA, groupB } = window;     delete window.groupA;     delete window.groupB;     const combinedGroup = {       name: `${groupA.name} & ${groupB.name}`,       members: groupA.members.concat(groupB),     };     diff(group, combinedGroup);     diff(combinedGroup, group);   } })(); '>Whatsapp Sum Diff</a></div>
      </main>
      <footer>
        <p>Last updated: Tuesday 27 September 2022 07:29:12 PM IST<p>
        <p>Source: <a href="https://github.com/punchagan/bookmarklets">GitHub</a><p>
      </footer>
    </body>
</html>
